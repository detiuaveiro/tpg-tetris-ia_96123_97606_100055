things to implement maybe:

- cache for command calculations (credit Rodrigo)
- error recovery method: check if previous command sent was properly received, repeat it otherwise (may help recover from desyncs)
